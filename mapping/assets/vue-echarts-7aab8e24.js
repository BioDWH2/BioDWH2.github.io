import{a as K,r as Q}from"./resize-detector-a5205554.js";import{i as V,t as X}from"./echarts-322851ea.js";import{d as Y,s as D,i as z,t as ee,c as _,g as te,w as A,a as I,o as ne,b as re,h as ae,n as oe,u as ie}from"./@vue-0ee5835c.js";var d=function(){return d=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++)for(var t in r=arguments[n])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e},d.apply(this,arguments)},ue=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function se(e){return r=Object.create(null),ue.forEach(function(n){r[n]=function(s){return function(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[s].apply(e.value,t)}}(n)}),r;var r}var ce={autoresize:[Boolean,Object]},le=/^on[^a-z]/,fe=function(e){return le.test(e)};function T(e,r){var n=ie(e);return n&&typeof n=="object"&&"value"in n?n.value||r:n||r}var pe={loading:Boolean,loadingOptions:Object},E=null,N=[],x=[];(function(e,r){if(e&&typeof document<"u"){var n,s=r.prepend===!0?"prepend":"append",t=r.singleTag===!0,l=typeof r.container=="string"?document.querySelector(r.container):document.getElementsByTagName("head")[0];if(t){var p=N.indexOf(l);p===-1&&(p=N.push(l)-1,x[p]={}),n=x[p]&&x[p][s]?x[p][s]:x[p][s]=j()}else n=j();e.charCodeAt(0)===65279&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function j(){var b=document.createElement("style");if(b.setAttribute("type","text/css"),r.attributes)for(var g=Object.keys(r.attributes),m=0;m<g.length;m++)b.setAttribute(g[m],r.attributes[g[m]]);var U=s==="prepend"?"afterbegin":"beforeend";return l.insertAdjacentElement(U,b),b}})(`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`,{});var ve=function(){if(E!=null)return E;if(typeof HTMLElement>"u"||typeof customElements>"u")return E=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)("x-vue-echarts")}catch{return E=!1}return E=!0}(),me=Y({name:"echarts",props:d(d({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},ce),pe),emits:{},inheritAttrs:!1,setup:function(e,r){var n=r.attrs,s=D(),t=D(),l=D(),p=z("ecTheme",null),j=z("ecInitOptions",null),b=z("ecUpdateOptions",null),g=ee(e),m=g.autoresize,U=g.manualUpdate,q=g.loading,W=g.loadingOptions,Z=_(function(){return l.value||e.option||null}),S=_(function(){return e.theme||T(p,{})}),B=_(function(){return e.initOptions||T(j,{})}),R=_(function(){return e.updateOptions||T(b,{})}),$=_(function(){return function(c){var a={};for(var u in c)fe(u)||(a[u]=c[u]);return a}(n)}),G=te().proxy.$listeners;function w(c){if(s.value){var a=t.value=V(s.value,S.value,B.value);e.group&&(a.group=e.group);var u=G;u||(u={},Object.keys(n).filter(function(i){return i.indexOf("on")===0&&i.length>2}).forEach(function(i){var o=i.charAt(2).toLowerCase()+i.slice(3);o.substring(o.length-4)==="Once"&&(o="~".concat(o.substring(0,o.length-4))),u[o]=n[i]})),Object.keys(u).forEach(function(i){var o=u[i];if(o){var f=i.toLowerCase();f.charAt(0)==="~"&&(f=f.substring(1),o.__once__=!0);var h=a;if(f.indexOf("zr:")===0&&(h=a.getZr(),f=f.substring(3)),o.__once__){delete o.__once__;var L=o;o=function(){for(var y=[],O=0;O<arguments.length;O++)y[O]=arguments[O];L.apply(void 0,y),h.off(f,o)}}h.on(f,o)}}),m.value?oe(function(){a&&!a.isDisposed()&&a.resize(),v()}):v()}function v(){var i=c||Z.value;i&&a.setOption(i,R.value)}}function k(){t.value&&(t.value.dispose(),t.value=void 0)}var C=null;A(U,function(c){typeof C=="function"&&(C(),C=null),c||(C=A(function(){return e.option},function(a,u){a&&(t.value?t.value.setOption(a,d({notMerge:a!==u},R.value)):w())},{deep:!0}))},{immediate:!0}),A([S,B],function(){k(),w()},{deep:!0}),I(function(){e.group&&t.value&&(t.value.group=e.group)});var J=se(t);return function(c,a,u){var v=z("ecLoadingOptions",{}),i=_(function(){return d(d({},T(v,{})),u==null?void 0:u.value)});I(function(){var o=c.value;o&&(a.value?o.showLoading(i.value):o.hideLoading())})}(t,q,W),function(c,a,u){var v=null;A([u,c,a],function(i,o,f){var h=i[0],L=i[1],y=i[2];if(h&&L&&y){var O=y===!0?{}:y,M=O.throttle,P=M===void 0?100:M,H=O.onResize,F=function(){L.resize(),H==null||H()};v=P?X(F,P):F,K(h,v)}f(function(){h&&v&&Q(h,v)})})}(t,m,s),ne(function(){w()}),re(function(){ve&&s.value?s.value.__dispose=k:k()}),d({chart:t,root:s,setOption:function(c,a){e.manualUpdate&&(l.value=c),t.value?t.value.setOption(c,a||{}):w(c)},nonEventAttrs:$},J)},render:function(){var e=d({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",ae("x-vue-echarts",e)}});export{me as S};
