import{D as fe}from"./decimal.js-d133ee8e.js";import{_ as yt}from"./@babel-98964cd2.js";import{n as Er}from"./javascript-natural-sort-e357e139.js";import{t as Cr}from"./typed-function-4896e4f1.js";import{C as ur}from"./complex.js-9c2395ef.js";import{F as hr}from"./fraction.js-5fe3c316.js";var Ie={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function G(r){return typeof r=="number"}function nr(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Ue(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function Pe(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function Re(r){return r&&r.constructor.prototype.isUnit===!0||!1}function cr(r){return typeof r=="string"}var W=Array.isArray;function Y(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function yr(r){return Array.isArray(r)||Y(r)}function Yr(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function _r(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function wt(r){return r&&r.constructor.prototype.isRange===!0||!1}function re(r){return r&&r.constructor.prototype.isIndex===!0||!1}function Bt(r){return typeof r=="boolean"}function _t(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function St(r){return r&&r.constructor.prototype.isHelp===!0||!1}function bt(r){return typeof r=="function"}function Mt(r){return r instanceof Date}function Nt(r){return r instanceof RegExp}function xt(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Ue(r)&&!Pe(r))}function zt(r){return r===null}function Ot(r){return r===void 0}function Tt(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function $t(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function qt(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function It(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ut(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Pt(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Rt(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Lt(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Jt(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Vt(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Zt(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Wt(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ht(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Gt(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Xt(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Kt(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Yt(r){return r&&r.constructor.prototype.isChain===!0||!1}function or(r){var e=typeof r;return e==="object"?r===null?"null":nr(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function K(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(n){return K(n)});if(r instanceof Date)return new Date(r.valueOf());if(nr(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return Qt(r,K)}function Qt(r,e){var n={};for(var a in r)Sr(r,a)&&(n[a]=e(r[a]));return n}function Le(r,e){for(var n in e)Sr(e,n)&&(r[n]=e[n]);return r}function zr(r,e){var n,a,t;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(a=0,t=r.length;a<t;a++)if(!zr(r[a],e[a]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!(n in e)||!zr(r[n],e[n]))return!1;for(n in e)if(!(n in r))return!1;return!0}else return r===e}}function Sr(r,e){return r&&Object.hasOwnProperty.call(r,e)}function jt(r,e){for(var n={},a=0;a<e.length;a++){var t=e[a],o=r[t];o!==void 0&&(n[t]=o)}return n}var kt=["Matrix","Array"],ru=["number","BigNumber","Fraction"],Fr=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Ie)};yt(Fr,Ie,{MATRIX_OPTIONS:kt,NUMBER_OPTIONS:ru});function k(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function Wr(r,e,n){var a={2:"0b",8:"0o",16:"0x"},t=a[e],o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!k(n))throw new Error("size must be an integer");if(r>2**(n-1)-1||r<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!k(r))throw new Error("Value must be an integer");r<0&&(r=r+2**n),o="i".concat(n)}var c="";return r<0&&(r=-r,c="-"),"".concat(c).concat(t).concat(r.toString(e)).concat(o)}function Qr(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var n="auto",a,t;if(e&&(e.notation&&(n=e.notation),G(e)?a=e:G(e.precision)&&(a=e.precision),e.wordSize&&(t=e.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return tu(r,a);case"exponential":return Je(r,a);case"engineering":return eu(r,a);case"bin":return Wr(r,2,t);case"oct":return Wr(r,8,t);case"hex":return Wr(r,16,t);case"auto":return uu(r,a,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],c=arguments[4];return o!=="."?o+c:c});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Rr(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var n=e[1],a=e[2],t=parseFloat(e[4]||"0"),o=a.indexOf(".");t+=o!==-1?o-1:a.length-1;var c=a.replace(".","").replace(/^0*/,function(h){return t-=h.length,""}).replace(/0*$/,"").split("").map(function(h){return parseInt(h)});return c.length===0&&(c.push(0),t++),{sign:n,coefficients:c,exponent:t}}function eu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=Rr(r),a=Lr(n,e),t=a.exponent,o=a.coefficients,c=t%3===0?t:t<0?t-3-t%3:t-t%3;if(G(e))for(;e>o.length||t-c+1>o.length;)o.push(0);else for(var h=Math.abs(t-c)-(o.length-1),f=0;f<h;f++)o.push(0);for(var p=Math.abs(t-c),i=1;p>0;)i++,p--;var D=o.slice(i).join(""),v=G(e)&&D.length||D.match(/[1-9]/)?"."+D:"",A=o.slice(0,i).join("")+v+"e"+(t>=0?"+":"")+c.toString();return a.sign+A}function tu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=Rr(r),a=typeof e=="number"?Lr(n,n.exponent+1+e):n,t=a.coefficients,o=a.exponent+1,c=o+(e||0);return t.length<c&&(t=t.concat(gr(c-t.length))),o<0&&(t=gr(-o+1).concat(t),o=1),o<t.length&&t.splice(o,0,o===0?"0.":"."),a.sign+t.join("")}function Je(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=Rr(r),a=e?Lr(n,e):n,t=a.coefficients,o=a.exponent;t.length<e&&(t=t.concat(gr(e-t.length)));var c=t.shift();return a.sign+c+(t.length>0?"."+t.join(""):"")+"e"+(o>=0?"+":"")+o}function uu(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var a=n&&n.lowerExp!==void 0?n.lowerExp:-3,t=n&&n.upperExp!==void 0?n.upperExp:5,o=Rr(r),c=e?Lr(o,e):o;if(c.exponent<a||c.exponent>=t)return Je(r,e);var h=c.coefficients,f=c.exponent;h.length<e&&(h=h.concat(gr(e-h.length))),h=h.concat(gr(f-h.length+1+(h.length<e?e-h.length:0))),h=gr(-f).concat(h);var p=f>0?f:0;return p<h.length-1&&h.splice(p+1,0,"."),c.sign+h.join("")}function Lr(r,e){for(var n={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},a=n.coefficients;e<=0;)a.unshift(0),n.exponent++,e++;if(a.length>e){var t=a.splice(e,a.length-e);if(t[0]>=5){var o=e-1;for(a[o]++;a[o]===10;)a.pop(),o===0&&(a.unshift(0),n.exponent++,o++),o--,a[o]++}}return n}function gr(r){for(var e=[],n=0;n<r;n++)e.push(0);return e}function nu(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var au=Number.EPSILON||2220446049250313e-31;function br(r,e,n){if(n==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var a=Math.abs(r-e);return a<au?!0:a<=Math.max(Math.abs(r),Math.abs(e))*n}return!1}function Hr(r,e,n){var a=r.constructor,t=new a(2),o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!k(n))throw new Error("size must be an integer");if(r.greaterThan(t.pow(n-1).sub(1))||r.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(t.pow(n))),o="i".concat(n)}switch(e){case 2:return"".concat(r.toBinary()).concat(o);case 8:return"".concat(r.toOctal()).concat(o);case 16:return"".concat(r.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function iu(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var n="auto",a,t;if(e!==void 0&&(e.notation&&(n=e.notation),typeof e=="number"?a=e:e.precision!==void 0&&(a=e.precision),e.wordSize&&(t=e.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return su(r,a);case"exponential":return ce(r,a);case"engineering":return ou(r,a);case"bin":return Hr(r,2,t);case"oct":return Hr(r,8,t);case"hex":return Hr(r,16,t);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,c=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var h,f=r.toSignificantDigits(a),p=f.e;return p>=o&&p<c?h=f.toFixed():h=ce(r,a),h.replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],D=arguments[4];return i!=="."?i+D:D})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ou(r,e){var n=r.e,a=n%3===0?n:n<0?n-3-n%3:n-n%3,t=r.mul(Math.pow(10,-a)),o=t.toPrecision(e);if(o.indexOf("e")!==-1){var c=r.constructor;o=new c(o).toFixed()}return o+"e"+(n>=0?"+":"")+a.toString()}function ce(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function su(r,e){return r.toFixed(e)}function j(r,e){var n=Du(r,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function Du(r,e){if(typeof r=="number")return Qr(r,e);if(nr(r))return iu(r,e);if(fu(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Ve(r,e);if(cr(r))return'"'+r+'"';if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var n=Object.keys(r).map(a=>'"'+a+'": '+j(r[a],e));return"{"+n.join(", ")+"}"}return String(r)}function Ve(r,e){if(Array.isArray(r)){for(var n="[",a=r.length,t=0;t<a;t++)t!==0&&(n+=", "),n+=Ve(r[t],e);return n+="]",n}else return j(r,e)}function fu(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function R(r,e,n){if(!(this instanceof R))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}R.prototype=new RangeError;R.prototype.constructor=RangeError;R.prototype.name="DimensionError";R.prototype.isDimensionError=!0;function dr(r,e,n){if(!(this instanceof dr))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}dr.prototype=new RangeError;dr.prototype.constructor=RangeError;dr.prototype.name="IndexError";dr.prototype.isIndexError=!0;function Dr(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function Ze(r,e,n){var a,t=r.length;if(t!==e[n])throw new R(t,e[n]);if(n<e.length-1){var o=n+1;for(a=0;a<t;a++){var c=r[a];if(!Array.isArray(c))throw new R(e.length-1,e.length,"<");Ze(r[a],e,o)}}else for(a=0;a<t;a++)if(Array.isArray(r[a]))throw new R(e.length+1,e.length,">")}function ve(r,e){var n=e.length===0;if(n){if(Array.isArray(r))throw new R(r.length,0)}else Ze(r,e,0)}function H(r,e){if(!G(r)||!k(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new dr(r,e)}function jr(r,e,n){if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!G(t)||!k(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+j(e)+")")});var a=n!==void 0?n:0;return kr(r,e,0,a),r}function kr(r,e,n,a){var t,o,c=r.length,h=e[n],f=Math.min(c,h);if(r.length=h,n<e.length-1){var p=n+1;for(t=0;t<f;t++)o=r[t],Array.isArray(o)||(o=[o],r[t]=o),kr(o,e,p,a);for(t=f;t<h;t++)o=[],r[t]=o,kr(o,e,p,a)}else{for(t=0;t<f;t++)for(;Array.isArray(r[t]);)r[t]=r[t][0];for(t=f;t<h;t++)r[t]=a}}function cu(r,e){var n=lu(r),a=n.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new R(0,a,"!=");e=ee(e,a);var t=We(e);if(a!==t)throw new R(t,a,"!=");try{return vu(n,e)}catch(o){throw o instanceof R?new R(t,a,"!="):o}}function ee(r,e){var n=We(r),a=r.slice(),t=-1,o=r.indexOf(t),c=r.indexOf(t,o+1)>=0;if(c)throw new Error("More than one wildcard in sizes");var h=o>=0,f=e%n===0;if(h)if(f)a[o]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return a}function We(r){return r.reduce((e,n)=>e*n,1)}function vu(r,e){for(var n=r,a,t=e.length-1;t>0;t--){var o=e[t];a=[];for(var c=n.length/o,h=0;h<c;h++)a.push(n.slice(h*o,(h+1)*o));n=a}return n}function He(r,e,n,a){var t=a||Dr(r);if(n)for(var o=0;o<n;o++)r=[r],t.unshift(1);for(r=Ge(r,e,0);t.length<e;)t.push(1);return r}function Ge(r,e,n){var a,t;if(Array.isArray(r)){var o=n+1;for(a=0,t=r.length;a<t;a++)r[a]=Ge(r[a],e,o)}else for(var c=n;c<e;c++)r=[r];return r}function lu(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function n(a){Array.isArray(a)?a.forEach(n):e.push(a)}),e}function Or(r,e){for(var n,a=0,t=0;t<r.length;t++){var o=r[t],c=Array.isArray(o);if(t===0&&c&&(a=o.length),c&&o.length!==a)return;var h=c?Or(o,e):e(o);if(n===void 0)n=h;else if(n!==h)return"mixed"}return n}function q(r,e,n,a){function t(o){var c=jt(o,e.map(du));return pu(r,e,o),n(c)}return t.isFactory=!0,t.fn=r,t.dependencies=e.slice().sort(),a&&(t.meta=a),t}function pu(r,e,n){var a=e.filter(o=>!hu(o)).every(o=>n[o]!==void 0);if(!a){var t=e.filter(o=>n[o]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(t.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function hu(r){return r&&r[0]==="?"}function du(r){return r&&r[0]==="?"?r.slice(1):r}function Fu(r,e){if(Ke(r)&&Xe(r,e))return r[e];throw typeof r[e]=="function"&&Eu(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Au(r,e,n){if(Ke(r)&&Xe(r,e))return r[e]=n,n;throw new Error('No access to property "'+e+'"')}function mu(r,e){return e in r}function Xe(r,e){return!r||typeof r!="object"?!1:Sr(Cu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Eu(r,e){return r==null||typeof r[e]!="function"||Sr(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:Sr(gu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Ke(r){return typeof r=="object"&&r&&r.constructor===Object}var Cu={length:!0,name:!0},gu={toString:!0,valueOf:!0,toLocaleString:!0};class yu{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return Fu(this.wrappedObject,e)}set(e,n){return Au(this.wrappedObject,e,n),this}has(e){return mu(this.wrappedObject,e)}}function wu(r){return r?r instanceof Map||r instanceof yu||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}var Ye=function(){return Ye=Cr.create,Cr},Bu=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],_u=q("typed",Bu,function(e){var{BigNumber:n,Complex:a,DenseMatrix:t,Fraction:o}=e,c=Ye();return c.clear(),c.addTypes([{name:"number",test:G},{name:"Complex",test:Ue},{name:"BigNumber",test:nr},{name:"Fraction",test:Pe},{name:"Unit",test:Re},{name:"identifier",test:h=>cr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(h)},{name:"string",test:cr},{name:"Chain",test:Yt},{name:"Array",test:W},{name:"Matrix",test:Y},{name:"DenseMatrix",test:Yr},{name:"SparseMatrix",test:_r},{name:"Range",test:wt},{name:"Index",test:re},{name:"boolean",test:Bt},{name:"ResultSet",test:_t},{name:"Help",test:St},{name:"function",test:bt},{name:"Date",test:Mt},{name:"RegExp",test:Nt},{name:"null",test:zt},{name:"undefined",test:Ot},{name:"AccessorNode",test:Tt},{name:"ArrayNode",test:$t},{name:"AssignmentNode",test:qt},{name:"BlockNode",test:It},{name:"ConditionalNode",test:Ut},{name:"ConstantNode",test:Pt},{name:"FunctionNode",test:Lt},{name:"FunctionAssignmentNode",test:Rt},{name:"IndexNode",test:Jt},{name:"Node",test:Vt},{name:"ObjectNode",test:Zt},{name:"OperatorNode",test:Wt},{name:"ParenthesisNode",test:Ht},{name:"RangeNode",test:Gt},{name:"RelationalNode",test:Xt},{name:"SymbolNode",test:Kt},{name:"Map",test:wu},{name:"Object",test:xt}]),c.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(n||Gr(f),nu(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new n(f)}},{from:"number",to:"Complex",convert:function(f){return a||xr(f),new a(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return a||xr(f),new a(f.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return a||xr(f),new a(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){o||Xr(f);var p=new o(f);if(p.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return p}},{from:"string",to:"number",convert:function(f){var p=Number(f);if(isNaN(p))throw new Error('Cannot convert "'+f+'" to a number');return p}},{from:"string",to:"BigNumber",convert:function(f){n||Gr(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(f){o||Xr(f);try{return new o(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){a||xr(f);try{return new a(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return n||Gr(f),new n(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return o||Xr(f),new o(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return t||Su(),new t(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),c.onMismatch=(h,f,p)=>{var i=c.createError(h,f,p);if(["wrongType","mismatch"].includes(i.data.category)&&f.length===1&&yr(f[0])&&p.some(v=>!v.params.includes(","))){var D=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw D.data=i.data,D}throw i},c.onMismatch=(h,f,p)=>{var i=c.createError(h,f,p);if(["wrongType","mismatch"].includes(i.data.category)&&f.length===1&&yr(f[0])&&p.some(v=>!v.params.includes(","))){var D=new TypeError("Function '".concat(h,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(h,")'."));throw D.data=i.data,D}throw i},c});function Gr(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function xr(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Su(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Xr(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var bu="BigNumber",Mu=["?on","config"],Nu=q(bu,Mu,r=>{var{on:e,config:n}=r,a=fe.clone({precision:n.precision,modulo:fe.EUCLID});return a.prototype=Object.create(a.prototype),a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(t){return new a(t.value)},e&&e("config",function(t,o){t.precision!==o.precision&&a.config({precision:t.precision})}),a},{isClass:!0}),xu="Complex",zu=[],Ou=q(xu,zu,()=>(Object.defineProperty(ur,"name",{value:"Complex"}),ur.prototype.constructor=ur,ur.prototype.type="Complex",ur.prototype.isComplex=!0,ur.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ur.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ur.prototype.format=function(r){var e="",n=this.im,a=this.re,t=Qr(this.re,r),o=Qr(this.im,r),c=G(r)?r:r?r.precision:null;if(c!==null){var h=Math.pow(10,-c);Math.abs(a/n)<h&&(a=0),Math.abs(n/a)<h&&(n=0)}return n===0?e=t:a===0?n===1?e="i":n===-1?e="-i":e=o+"i":n<0?n===-1?e=t+" - i":e=t+" - "+o.substring(1)+"i":n===1?e=t+" + i":e=t+" + "+o+"i",e},ur.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return ur(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],a=arguments[1];if(G(n)){if(Re(a)&&a.hasBase("ANGLE")&&(a=a.toNumber("rad")),G(a))return new ur({r:n,phi:a});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ur.prototype.valueOf=ur.prototype.toString,ur.fromJSON=function(r){return new ur(r)},ur.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},ur),{isClass:!0}),Tu="Fraction",$u=[],qu=q(Tu,$u,()=>(Object.defineProperty(hr,"name",{value:"Fraction"}),hr.prototype.constructor=hr,hr.prototype.type="Fraction",hr.prototype.isFraction=!0,hr.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},hr.fromJSON=function(r){return new hr(r)},hr),{isClass:!0}),Iu="Matrix",Uu=[],Pu=q(Iu,Uu,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,n,a){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,n,a){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Qe(r){return Object.keys(r.signatures||{}).reduce(function(e,n){var a=(n.match(/,/g)||[]).length+1;return Math.max(e,a)},-1)}var Ru="DenseMatrix",Lu=["Matrix"],Ju=q(Ru,Lu,r=>{var{Matrix:e}=r;function n(i,D){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!cr(D))throw new Error("Invalid datatype: "+D);if(Y(i))i.type==="DenseMatrix"?(this._data=K(i._data),this._size=K(i._size),this._datatype=D||i._datatype):(this._data=i.toArray(),this._size=i.size(),this._datatype=D||i._datatype);else if(i&&W(i.data)&&W(i.size))this._data=i.data,this._size=i.size,ve(this._data,this._size),this._datatype=D||i.datatype;else if(W(i))this._data=p(i),this._size=Dr(this._data),ve(this._data,this._size),this._datatype=D;else{if(i)throw new TypeError("Unsupported type of data ("+or(i)+")");this._data=[],this._size=[0],this._datatype=D}}n.prototype=new e,n.prototype.createDenseMatrix=function(i,D){return new n(i,D)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Or(this._data,or)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(i,D){return new n(i,D)},n.prototype.subset=function(i,D,v){switch(arguments.length){case 1:return a(this,i);case 2:case 3:return o(this,i,D,v);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(i){if(!W(i))throw new TypeError("Array expected");if(i.length!==this._size.length)throw new R(i.length,this._size.length);for(var D=0;D<i.length;D++)H(i[D],this._size[D]);for(var v=this._data,A=0,E=i.length;A<E;A++){var u=i[A];H(u,v.length),v=v[u]}return v},n.prototype.set=function(i,D,v){if(!W(i))throw new TypeError("Array expected");if(i.length<this._size.length)throw new R(i.length,this._size.length,"<");var A,E,u,s=i.map(function(w){return w+1});f(this,s,v);var l=this._data;for(A=0,E=i.length-1;A<E;A++)u=i[A],H(u,l.length),l=l[u];return u=i[i.length-1],H(u,l.length),l[u]=D,this};function a(i,D){if(!re(D))throw new TypeError("Invalid index");var v=D.isScalar();if(v)return i.get(D.min());var A=D.size();if(A.length!==i._size.length)throw new R(A.length,i._size.length);for(var E=D.min(),u=D.max(),s=0,l=i._size.length;s<l;s++)H(E[s],i._size[s]),H(u[s],i._size[s]);return new n(t(i._data,D,A.length,0),i._datatype)}function t(i,D,v,A){var E=A===v-1,u=D.dimension(A);return E?u.map(function(s){return H(s,i.length),i[s]}).valueOf():u.map(function(s){H(s,i.length);var l=i[s];return t(l,D,v,A+1)}).valueOf()}function o(i,D,v,A){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var E=D.size(),u=D.isScalar(),s;if(Y(v)?(s=v.size(),v=v.valueOf()):s=Dr(v),u){if(s.length!==0)throw new TypeError("Scalar expected");i.set(D.min(),v,A)}else{if(E.length<i._size.length)throw new R(E.length,i._size.length,"<");if(s.length<E.length){for(var l=0,w=0;E[l]===1&&s[l]===1;)l++;for(;E[l]===1;)w++,l++;v=He(v,E.length,w,s)}if(!zr(E,s))throw new R(E,s,">");var d=D.max().map(function(F){return F+1});f(i,d,A);var y=E.length,m=0;c(i._data,D,v,y,m)}return i}function c(i,D,v,A,E){var u=E===A-1,s=D.dimension(E);u?s.forEach(function(l,w){H(l),i[l]=v[w[0]]}):s.forEach(function(l,w){H(l),c(i[l],D,v[w[0]],A,E+1)})}n.prototype.resize=function(i,D,v){if(!yr(i))throw new TypeError("Array or Matrix expected");var A=i.valueOf().map(u=>Array.isArray(u)&&u.length===1?u[0]:u),E=v?this.clone():this;return h(E,A,D)};function h(i,D,v){if(D.length===0){for(var A=i._data;W(A);)A=A[0];return A}return i._size=D.slice(0),i._data=jr(i._data,i._size,v),i}n.prototype.reshape=function(i,D){var v=D?this.clone():this;v._data=cu(v._data,i);var A=v._size.reduce((E,u)=>E*u);return v._size=ee(i,A),v};function f(i,D,v){for(var A=i._size.slice(0),E=!1;A.length<D.length;)A.push(0),E=!0;for(var u=0,s=D.length;u<s;u++)D[u]>A[u]&&(A[u]=D[u],E=!0);E&&h(i,A,v)}n.prototype.clone=function(){var i=new n({data:K(this._data),size:K(this._size),datatype:this._datatype});return i},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(i){var D=this,v=Qe(i),A=function s(l,w){return W(l)?l.map(function(d,y){return s(d,w.concat(y))}):v===1?i(l):v===2?i(l,w):i(l,w,D)},E=A(this._data,[]),u=this._datatype!==void 0?Or(E,or):void 0;return new n(E,u)},n.prototype.forEach=function(i){var D=this,v=function A(E,u){W(E)?E.forEach(function(s,l){A(s,u.concat(l))}):i(E,u,D)};v(this._data,[])},n.prototype[Symbol.iterator]=function*(){var i=function*D(v,A){if(W(v))for(var E=0;E<v.length;E++)yield*D(v[E],A.concat(E));else yield{value:v,index:A}};yield*i(this._data,[])},n.prototype.rows=function(){var i=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var v=this._data;for(var A of v)i.push(new n([A],this._datatype));return i},n.prototype.columns=function(){var i=this,D=[],v=this.size();if(v.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var A=this._data,E=function(l){var w=A.map(d=>[d[l]]);D.push(new n(w,i._datatype))},u=0;u<v[1];u++)E(u);return D},n.prototype.toArray=function(){return K(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(i){return j(this._data,i)},n.prototype.toString=function(){return j(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(i){if(i){if(nr(i)&&(i=i.toNumber()),!G(i)||!k(i))throw new TypeError("The parameter k must be an integer number")}else i=0;for(var D=i>0?i:0,v=i<0?-i:0,A=this._size[0],E=this._size[1],u=Math.min(A-v,E-D),s=[],l=0;l<u;l++)s[l]=this._data[l+v][l+D];return new n({data:s,size:[u],datatype:this._datatype})},n.diagonal=function(i,D,v,A){if(!W(i))throw new TypeError("Array expected, size parameter");if(i.length!==2)throw new Error("Only two dimensions matrix are supported");if(i=i.map(function(g){if(nr(g)&&(g=g.toNumber()),!G(g)||!k(g)||g<1)throw new Error("Size values must be positive integers");return g}),v){if(nr(v)&&(v=v.toNumber()),!G(v)||!k(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var E=v>0?v:0,u=v<0?-v:0,s=i[0],l=i[1],w=Math.min(s-u,l-E),d;if(W(D)){if(D.length!==w)throw new Error("Invalid value array length");d=function(C){return D[C]}}else if(Y(D)){var y=D.size();if(y.length!==1||y[0]!==w)throw new Error("Invalid matrix length");d=function(C){return D.get([C])}}else d=function(){return D};A||(A=nr(d(0))?d(0).mul(0):0);var m=[];if(i.length>0){m=jr(m,i,A);for(var F=0;F<w;F++)m[F+u][F+E]=d(F)}return new n({data:m,size:[s,l]})},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(i,D){if(!G(i)||!k(i)||!G(D)||!k(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return H(i,this._size[0]),H(D,this._size[0]),n._swapRows(i,D,this._data),this},n._swapRows=function(i,D,v){var A=v[i];v[i]=v[D],v[D]=A};function p(i){for(var D=0,v=i.length;D<v;D++){var A=i[D];W(A)?i[D]=p(A):A&&A.isMatrix===!0&&(i[D]=p(A.valueOf()))}return i}return n},{isClass:!0});function Vu(r){var e=r.length,n=r[0].length,a,t,o=[];for(t=0;t<n;t++){var c=[];for(a=0;a<e;a++)c.push(r[a][t]);o.push(c)}return o}function Zu(r){for(var e=0;e<r.length;e++)if(yr(r[e]))return!0;return!1}function Tr(r,e){Y(r)&&(r=r.valueOf());for(var n=0,a=r.length;n<a;n++){var t=r[n];Array.isArray(t)?Tr(t,e):e(t)}}function vr(r,e,n){return r&&typeof r.map=="function"?r.map(function(a){return vr(a,e)}):e(r)}function Wu(r,e,n){var a=Array.isArray(r)?Dr(r):r.size();if(e<0||e>=a.length)throw new dr(e,a.length);return Y(r)?r.create($r(r.valueOf(),e,n)):$r(r,e,n)}function $r(r,e,n){var a,t,o,c;if(e<=0)if(Array.isArray(r[0])){for(c=Vu(r),t=[],a=0;a<c.length;a++)t[a]=$r(c[a],e-1,n);return t}else{for(o=r[0],a=1;a<r.length;a++)o=n(o,r[a]);return o}else{for(t=[],a=0;a<r.length;a++)t[a]=$r(r[a],e-1,n);return t}}var le="isInteger",Hu=["typed"],Gu=q(le,Hu,r=>{var{typed:e}=r;return e(le,{number:k,BigNumber:function(a){return a.isInt()},Fraction:function(a){return a.d===1&&isFinite(a.n)},"Array | Matrix":e.referToSelf(n=>a=>vr(a,n))})}),je="number",ke="number, number";function rt(r){return Math.abs(r)}rt.signature=je;function et(r,e){return r+e}et.signature=ke;function tt(r,e){return r*e}tt.signature=ke;function ut(r){return-r}ut.signature=je;var nt="number";function at(r){return r===0}at.signature=nt;function it(r){return Number.isNaN(r)}it.signature=nt;var pe="isZero",Xu=["typed"],Ku=q(pe,Xu,r=>{var{typed:e}=r;return e(pe,{number:at,BigNumber:function(a){return a.isZero()},Complex:function(a){return a.re===0&&a.im===0},Fraction:function(a){return a.d===1&&a.n===0},Unit:e.referToSelf(n=>a=>e.find(n,a.valueType())(a.value)),"Array | Matrix":e.referToSelf(n=>a=>vr(a,n))})}),he="isNaN",Yu=["typed"],Qu=q(he,Yu,r=>{var{typed:e}=r;return e(he,{number:it,BigNumber:function(a){return a.isNaN()},Fraction:function(a){return!1},Complex:function(a){return a.isNaN()},Unit:function(a){return Number.isNaN(a.value)},"Array | Matrix":function(a){return vr(a,Number.isNaN)}})});function ot(r,e,n){if(n==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var a=r.minus(e).abs();if(a.isZero())return!0;var t=r.constructor.max(r.abs(),e.abs());return a.lte(t.times(n))}return!1}function ju(r,e,n){return br(r.re,e.re,n)&&br(r.im,e.im,n)}var st=q("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(n=>(a,t)=>{if(!a.equalBase(t))throw new Error("Cannot compare units with different base");return e.find(n,[a.valueType(),t.valueType()])(a.value,t.value)})}}),qr="equalScalar",ku=["typed","config"],rn=q(qr,ku,r=>{var{typed:e,config:n}=r,a=st({typed:e});return e(qr,{"boolean, boolean":function(o,c){return o===c},"number, number":function(o,c){return br(o,c,n.epsilon)},"BigNumber, BigNumber":function(o,c){return o.eq(c)||ot(o,c,n.epsilon)},"Fraction, Fraction":function(o,c){return o.equals(c)},"Complex, Complex":function(o,c){return ju(o,c,n.epsilon)}},a)});q(qr,["typed","config"],r=>{var{typed:e,config:n}=r;return e(qr,{"number, number":function(t,o){return br(t,o,n.epsilon)}})});var en="SparseMatrix",tn=["typed","equalScalar","Matrix"],un=q(en,tn,r=>{var{typed:e,equalScalar:n,Matrix:a}=r;function t(u,s){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!cr(s))throw new Error("Invalid datatype: "+s);if(Y(u))o(this,u,s);else if(u&&W(u.index)&&W(u.ptr)&&W(u.size))this._values=u.values,this._index=u.index,this._ptr=u.ptr,this._size=u.size,this._datatype=s||u.datatype;else if(W(u))c(this,u,s);else{if(u)throw new TypeError("Unsupported type of data ("+or(u)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=s}}function o(u,s,l){s.type==="SparseMatrix"?(u._values=s._values?K(s._values):void 0,u._index=K(s._index),u._ptr=K(s._ptr),u._size=K(s._size),u._datatype=l||s._datatype):c(u,s.valueOf(),l||s._datatype)}function c(u,s,l){u._values=[],u._index=[],u._ptr=[],u._datatype=l;var w=s.length,d=0,y=n,m=0;if(cr(l)&&(y=e.find(n,[l,l])||n,m=e.convert(0,l)),w>0){var F=0;do{u._ptr.push(u._index.length);for(var g=0;g<w;g++){var C=s[g];if(W(C)){if(F===0&&d<C.length&&(d=C.length),F<C.length){var B=C[F];y(B,m)||(u._values.push(B),u._index.push(g))}}else F===0&&d<1&&(d=1),y(C,m)||(u._values.push(C),u._index.push(g))}F++}while(F<d)}u._ptr.push(u._index.length),u._size=[w,d]}t.prototype=new a,t.prototype.createSparseMatrix=function(u,s){return new t(u,s)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return Or(this._values,or)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(u,s){return new t(u,s)},t.prototype.density=function(){var u=this._size[0],s=this._size[1];return u!==0&&s!==0?this._index.length/(u*s):0},t.prototype.subset=function(u,s,l){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return h(this,u);case 2:case 3:return f(this,u,s,l);default:throw new SyntaxError("Wrong number of arguments")}};function h(u,s){if(!re(s))throw new TypeError("Invalid index");var l=s.isScalar();if(l)return u.get(s.min());var w=s.size();if(w.length!==u._size.length)throw new R(w.length,u._size.length);var d,y,m,F,g=s.min(),C=s.max();for(d=0,y=u._size.length;d<y;d++)H(g[d],u._size[d]),H(C[d],u._size[d]);var B=u._values,_=u._index,S=u._ptr,N=s.dimension(0),$=s.dimension(1),M=[],x=[];N.forEach(function(O,I){x[O]=I[0],M[O]=!0});var b=B?[]:void 0,T=[],z=[];return $.forEach(function(O){for(z.push(T.length),m=S[O],F=S[O+1];m<F;m++)d=_[m],M[d]===!0&&(T.push(x[d]),b&&b.push(B[m]))}),z.push(T.length),new t({values:b,index:T,ptr:z,size:w,datatype:u._datatype})}function f(u,s,l,w){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var d=s.size(),y=s.isScalar(),m;if(Y(l)?(m=l.size(),l=l.toArray()):m=Dr(l),y){if(m.length!==0)throw new TypeError("Scalar expected");u.set(s.min(),l,w)}else{if(d.length!==1&&d.length!==2)throw new R(d.length,u._size.length,"<");if(m.length<d.length){for(var F=0,g=0;d[F]===1&&m[F]===1;)F++;for(;d[F]===1;)g++,F++;l=He(l,d.length,g,m)}if(!zr(d,m))throw new R(d,m,">");if(d.length===1){var C=s.dimension(0);C.forEach(function(S,N){H(S),u.set([S,0],l[N[0]],w)})}else{var B=s.dimension(0),_=s.dimension(1);B.forEach(function(S,N){H(S),_.forEach(function($,M){H($),u.set([S,$],l[N[0]][M[0]],w)})})}}return u}t.prototype.get=function(u){if(!W(u))throw new TypeError("Array expected");if(u.length!==this._size.length)throw new R(u.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var s=u[0],l=u[1];H(s,this._size[0]),H(l,this._size[1]);var w=p(s,this._ptr[l],this._ptr[l+1],this._index);return w<this._ptr[l+1]&&this._index[w]===s?this._values[w]:0},t.prototype.set=function(u,s,l){if(!W(u))throw new TypeError("Array expected");if(u.length!==this._size.length)throw new R(u.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=u[0],d=u[1],y=this._size[0],m=this._size[1],F=n,g=0;cr(this._datatype)&&(F=e.find(n,[this._datatype,this._datatype])||n,g=e.convert(0,this._datatype)),(w>y-1||d>m-1)&&(v(this,Math.max(w+1,y),Math.max(d+1,m),l),y=this._size[0],m=this._size[1]),H(w,y),H(d,m);var C=p(w,this._ptr[d],this._ptr[d+1],this._index);return C<this._ptr[d+1]&&this._index[C]===w?F(s,g)?i(C,d,this._values,this._index,this._ptr):this._values[C]=s:F(s,g)||D(C,w,d,s,this._values,this._index,this._ptr),this};function p(u,s,l,w){if(l-s===0)return l;for(var d=s;d<l;d++)if(w[d]===u)return d;return s}function i(u,s,l,w,d){l.splice(u,1),w.splice(u,1);for(var y=s+1;y<d.length;y++)d[y]--}function D(u,s,l,w,d,y,m){d.splice(u,0,w),y.splice(u,0,s);for(var F=l+1;F<m.length;F++)m[F]++}t.prototype.resize=function(u,s,l){if(!yr(u))throw new TypeError("Array or Matrix expected");var w=u.valueOf().map(y=>Array.isArray(y)&&y.length===1?y[0]:y);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(y){if(!G(y)||!k(y)||y<0)throw new TypeError("Invalid size, must contain positive integers (size: "+j(w)+")")});var d=l?this.clone():this;return v(d,w[0],w[1],s)};function v(u,s,l,w){var d=w||0,y=n,m=0;cr(u._datatype)&&(y=e.find(n,[u._datatype,u._datatype])||n,m=e.convert(0,u._datatype),d=e.convert(d,u._datatype));var F=!y(d,m),g=u._size[0],C=u._size[1],B,_,S;if(l>C){for(_=C;_<l;_++)if(u._ptr[_]=u._values.length,F)for(B=0;B<g;B++)u._values.push(d),u._index.push(B);u._ptr[l]=u._values.length}else l<C&&(u._ptr.splice(l+1,C-l),u._values.splice(u._ptr[l],u._values.length),u._index.splice(u._ptr[l],u._index.length));if(C=l,s>g){if(F){var N=0;for(_=0;_<C;_++){u._ptr[_]=u._ptr[_]+N,S=u._ptr[_+1]+N;var $=0;for(B=g;B<s;B++,$++)u._values.splice(S+$,0,d),u._index.splice(S+$,0,B),N++}u._ptr[C]=u._values.length}}else if(s<g){var M=0;for(_=0;_<C;_++){u._ptr[_]=u._ptr[_]-M;var x=u._ptr[_],b=u._ptr[_+1]-M;for(S=x;S<b;S++)B=u._index[S],B>s-1&&(u._values.splice(S,1),u._index.splice(S,1),M++)}u._ptr[_]=u._values.length}return u._size[0]=s,u._size[1]=l,u}t.prototype.reshape=function(u,s){if(!W(u))throw new TypeError("Array expected");if(u.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");u.forEach(function(O){if(!G(O)||!k(O)||O<=-2||O===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+j(u)+")")});var l=this._size[0]*this._size[1];u=ee(u,l);var w=u[0]*u[1];if(l!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var d=s?this.clone():this;if(this._size[0]===u[0]&&this._size[1]===u[1])return d;for(var y=[],m=0;m<d._ptr.length;m++)for(var F=0;F<d._ptr[m+1]-d._ptr[m];F++)y.push(m);for(var g=d._values.slice(),C=d._index.slice(),B=0;B<d._index.length;B++){var _=C[B],S=y[B],N=_*d._size[1]+S;y[B]=N%u[1],C[B]=Math.floor(N/u[1])}d._values.length=0,d._index.length=0,d._ptr.length=u[1]+1,d._size=u.slice();for(var $=0;$<d._ptr.length;$++)d._ptr[$]=0;for(var M=0;M<g.length;M++){var x=C[M],b=y[M],T=g[M],z=p(x,d._ptr[b],d._ptr[b+1],d._index);D(z,x,b,T,d._values,d._index,d._ptr)}return d},t.prototype.clone=function(){var u=new t({values:this._values?K(this._values):void 0,index:K(this._index),ptr:K(this._ptr),size:K(this._size),datatype:this._datatype});return u},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(u,s){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var l=this,w=this._size[0],d=this._size[1],y=Qe(u),m=function(g,C,B){return y===1?u(g):y===2?u(g,[C,B]):u(g,[C,B],l)};return A(this,0,w-1,0,d-1,m,s)};function A(u,s,l,w,d,y,m){var F=[],g=[],C=[],B=n,_=0;cr(u._datatype)&&(B=e.find(n,[u._datatype,u._datatype])||n,_=e.convert(0,u._datatype));for(var S=function(P,er,rr){P=y(P,er,rr),B(P,_)||(F.push(P),g.push(er))},N=w;N<=d;N++){C.push(F.length);var $=u._ptr[N],M=u._ptr[N+1];if(m)for(var x=$;x<M;x++){var b=u._index[x];b>=s&&b<=l&&S(u._values[x],b-s,N-w)}else{for(var T={},z=$;z<M;z++){var O=u._index[z];T[O]=u._values[z]}for(var I=s;I<=l;I++){var J=I in T?T[I]:0;S(J,I-s,N-w)}}}return C.push(F.length),new t({values:F,index:g,ptr:C,size:[l-s+1,d-w+1]})}t.prototype.forEach=function(u,s){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var l=this,w=this._size[0],d=this._size[1],y=0;y<d;y++){var m=this._ptr[y],F=this._ptr[y+1];if(s)for(var g=m;g<F;g++){var C=this._index[g];u(this._values[g],[C,y],l)}else{for(var B={},_=m;_<F;_++){var S=this._index[_];B[S]=this._values[_]}for(var N=0;N<w;N++){var $=N in B?B[N]:0;u($,[N,y],l)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var u=this._size[1],s=0;s<u;s++)for(var l=this._ptr[s],w=this._ptr[s+1],d=l;d<w;d++){var y=this._index[d];yield{value:this._values[d],index:[y,s]}}},t.prototype.toArray=function(){return E(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return E(this._values,this._index,this._ptr,this._size,!1)};function E(u,s,l,w,d){var y=w[0],m=w[1],F=[],g,C;for(g=0;g<y;g++)for(F[g]=[],C=0;C<m;C++)F[g][C]=0;for(C=0;C<m;C++)for(var B=l[C],_=l[C+1],S=B;S<_;S++)g=s[S],F[g][C]=u?d?K(u[S]):u[S]:1;return F}return t.prototype.format=function(u){for(var s=this._size[0],l=this._size[1],w=this.density(),d="Sparse Matrix ["+j(s,u)+" x "+j(l,u)+"] density: "+j(w,u)+`
`,y=0;y<l;y++)for(var m=this._ptr[y],F=this._ptr[y+1],g=m;g<F;g++){var C=this._index[g];d+=`
    (`+j(C,u)+", "+j(y,u)+") ==> "+(this._values?j(this._values[g],u):"X")}return d},t.prototype.toString=function(){return j(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(u){if(u){if(nr(u)&&(u=u.toNumber()),!G(u)||!k(u))throw new TypeError("The parameter k must be an integer number")}else u=0;var s=u>0?u:0,l=u<0?-u:0,w=this._size[0],d=this._size[1],y=Math.min(w-l,d-s),m=[],F=[],g=[];g[0]=0;for(var C=s;C<d&&m.length<y;C++)for(var B=this._ptr[C],_=this._ptr[C+1],S=B;S<_;S++){var N=this._index[S];if(N===C-s+l){m.push(this._values[S]),F[m.length-1]=N-l;break}}return g.push(m.length),new t({values:m,index:F,ptr:g,size:[y,1]})},t.fromJSON=function(u){return new t(u)},t.diagonal=function(u,s,l,w,d){if(!W(u))throw new TypeError("Array expected, size parameter");if(u.length!==2)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(O){if(nr(O)&&(O=O.toNumber()),!G(O)||!k(O)||O<1)throw new Error("Size values must be positive integers");return O}),l){if(nr(l)&&(l=l.toNumber()),!G(l)||!k(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var y=n,m=0;cr(d)&&(y=e.find(n,[d,d])||n,m=e.convert(0,d));var F=l>0?l:0,g=l<0?-l:0,C=u[0],B=u[1],_=Math.min(C-g,B-F),S;if(W(s)){if(s.length!==_)throw new Error("Invalid value array length");S=function(I){return s[I]}}else if(Y(s)){var N=s.size();if(N.length!==1||N[0]!==_)throw new Error("Invalid matrix length");S=function(I){return s.get([I])}}else S=function(){return s};for(var $=[],M=[],x=[],b=0;b<B;b++){x.push($.length);var T=b-F;if(T>=0&&T<_){var z=S(T);y(z,m)||(M.push(T+g),$.push(z))}}return x.push($.length),new t({values:$,index:M,ptr:x,size:[C,B]})},t.prototype.swapRows=function(u,s){if(!G(u)||!k(u)||!G(s)||!k(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return H(u,this._size[0]),H(s,this._size[0]),t._swapRows(u,s,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(u,s,l,w,d){for(var y=w[u],m=w[u+1],F=y;F<m;F++)d(l[F],s[F])},t._swapRows=function(u,s,l,w,d,y){for(var m=0;m<l;m++){var F=y[m],g=y[m+1],C=p(u,F,g,d),B=p(s,F,g,d);if(C<g&&B<g&&d[C]===u&&d[B]===s){if(w){var _=w[C];w[C]=w[B],w[B]=_}continue}if(C<g&&d[C]===u&&(B>=g||d[B]!==s)){var S=w?w[C]:void 0;d.splice(B,0,s),w&&w.splice(B,0,S),d.splice(B<=C?C+1:C,1),w&&w.splice(B<=C?C+1:C,1);continue}if(B<g&&d[B]===s&&(C>=g||d[C]!==u)){var N=w?w[B]:void 0;d.splice(C,0,u),w&&w.splice(C,0,N),d.splice(C<=B?B+1:B,1),w&&w.splice(C<=B?B+1:B,1)}}},t},{isClass:!0}),nn="number",an=["typed"];function on(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],a=e[2],t=e[3];return{input:r,radix:n,integerPart:a,fractionalPart:t}}else return null}function sn(r){for(var e=parseInt(r.integerPart,r.radix),n=0,a=0;a<r.fractionalPart.length;a++){var t=parseInt(r.fractionalPart[a],r.radix);n+=t/Math.pow(r.radix,a+1)}var o=e+n;if(isNaN(o))throw new SyntaxError('String "'+r.input+'" is no valid number');return o}var Dn=q(nn,an,r=>{var{typed:e}=r,n=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var o=on(t);if(o)return sn(o);var c=0,h=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);h&&(c=Number(h[2]),t=h[1]);var f=Number(t);if(isNaN(f))throw new SyntaxError('String "'+t+'" is no valid number');if(h){if(f>2**c-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));f>=2**(c-1)&&(f=f-2**c)}return f},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:e.referToSelf(a=>t=>{var o=t.clone();return o.value=a(t.value),o}),null:function(t){return 0},"Unit, string | Unit":function(t,o){return t.toNumber(o)},"Array | Matrix":e.referToSelf(a=>t=>vr(t,a))});return n.fromJSON=function(a){return parseFloat(a.value)},n}),fn="bignumber",cn=["typed","BigNumber"],vn=q(fn,cn,r=>{var{typed:e,BigNumber:n}=r;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var o=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var c=o[2],h=n(o[1]),f=new n(2).pow(Number(c));if(h.gt(f.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var p=new n(2).pow(Number(c)-1);return h.gte(p)?h.sub(f):h}return new n(t)},BigNumber:function(t){return t},Unit:e.referToSelf(a=>t=>{var o=t.clone();return o.value=a(t.value),o}),Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":e.referToSelf(a=>t=>vr(t,a))})}),ln="fraction",pn=["typed","Fraction"],hn=q(ln,pn,r=>{var{typed:e,Fraction:n}=r;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,o){return new n(t,o)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Unit:e.referToSelf(a=>t=>{var o=t.clone();return o.value=a(t.value),o}),Object:function(t){return new n(t)},"Array | Matrix":e.referToSelf(a=>t=>vr(t,a))})}),de="matrix",dn=["typed","Matrix","DenseMatrix","SparseMatrix"],Fn=q(de,dn,r=>{var{typed:e,Matrix:n,DenseMatrix:a,SparseMatrix:t}=r;return e(de,{"":function(){return o([])},string:function(h){return o([],h)},"string, string":function(h,f){return o([],h,f)},Array:function(h){return o(h)},Matrix:function(h){return o(h,h.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(c,h,f){if(h==="dense"||h==="default"||h===void 0)return new a(c,f);if(h==="sparse")return new t(c,f);throw new TypeError("Unknown matrix type "+JSON.stringify(h)+".")}}),Fe="unaryMinus",An=["typed"],mn=q(Fe,An,r=>{var{typed:e}=r;return e(Fe,{number:ut,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:e.referToSelf(n=>a=>{var t=a.clone();return t.value=e.find(n,t.valueType())(a.value),t}),"Array | Matrix":e.referToSelf(n=>a=>vr(a,n))})}),Ae="abs",En=["typed"],Cn=q(Ae,En,r=>{var{typed:e}=r;return e(Ae,{number:rt,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":e.referToSelf(n=>a=>vr(a,n))})}),me="apply",gn=["typed","isInteger"],yn=q(me,gn,r=>{var{typed:e,isInteger:n}=r;return e(me,{"Array | Matrix, number | BigNumber, function":function(t,o,c){if(!n(o))throw new TypeError("Integer number expected for dimension");var h=Array.isArray(t)?Dr(t):t.size();if(o<0||o>=h.length)throw new dr(o,h.length);return Y(t)?t.create(Ir(t.valueOf(),o,c)):Ir(t,o,c)}})});function Ir(r,e,n){var a,t,o;if(e<=0)if(Array.isArray(r[0])){for(o=wn(r),t=[],a=0;a<o.length;a++)t[a]=Ir(o[a],e-1,n);return t}else return n(r);else{for(t=[],a=0;a<r.length;a++)t[a]=Ir(r[a],e-1,n);return t}}function wn(r){var e=r.length,n=r[0].length,a,t,o=[];for(t=0;t<n;t++){var c=[];for(a=0;a<e;a++)c.push(r[a][t]);o.push(c)}return o}var Ee="addScalar",Bn=["typed"],_n=q(Ee,Bn,r=>{var{typed:e}=r;return e(Ee,{"number, number":et,"Complex, Complex":function(a,t){return a.add(t)},"BigNumber, BigNumber":function(a,t){return a.plus(t)},"Fraction, Fraction":function(a,t){return a.add(t)},"Unit, Unit":e.referToSelf(n=>(a,t)=>{if(a.value===null||a.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!a.equalBase(t))throw new Error("Units do not match");var o=a.clone();return o.value=e.find(n,[o.valueType(),t.valueType()])(o.value,t.value),o.fixPrefix=!1,o})})}),Sn="matAlgo11xS0s",bn=["typed","equalScalar"],Dt=q(Sn,bn,r=>{var{typed:e,equalScalar:n}=r;return function(t,o,c,h){var f=t._values,p=t._index,i=t._ptr,D=t._size,v=t._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var A=D[0],E=D[1],u,s=n,l=0,w=c;typeof v=="string"&&(u=v,s=e.find(n,[u,u]),l=e.convert(0,u),o=e.convert(o,u),w=e.find(c,[u,u]));for(var d=[],y=[],m=[],F=0;F<E;F++){m[F]=y.length;for(var g=i[F],C=i[F+1],B=g;B<C;B++){var _=p[B],S=h?w(o,f[B]):w(f[B],o);s(S,l)||(y.push(_),d.push(S))}}return m[E]=y.length,t.createSparseMatrix({values:d,index:y,ptr:m,size:[A,E],datatype:u})}}),Mn="matAlgo12xSfs",Nn=["typed","DenseMatrix"],ft=q(Mn,Nn,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,o,c,h){var f=t._values,p=t._index,i=t._ptr,D=t._size,v=t._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var A=D[0],E=D[1],u,s=c;typeof v=="string"&&(u=v,o=e.convert(o,u),s=e.find(c,[u,u]));for(var l=[],w=[],d=[],y=0;y<E;y++){for(var m=y+1,F=i[y],g=i[y+1],C=F;C<g;C++){var B=p[C];w[B]=f[C],d[B]=m}for(var _=0;_<A;_++)y===0&&(l[_]=[]),d[_]===m?l[_][y]=h?s(o,w[_]):s(w[_],o):l[_][y]=h?s(o,0):s(0,o)}return new n({data:l,size:[A,E],datatype:u})}}),xn="matAlgo14xDs",zn=["typed"],te=q(xn,zn,r=>{var{typed:e}=r;return function(t,o,c,h){var f=t._data,p=t._size,i=t._datatype,D,v=c;typeof i=="string"&&(D=i,o=e.convert(o,D),v=e.find(c,[D,D]));var A=p.length>0?n(v,0,p,p[0],f,o,h):[];return t.createDenseMatrix({data:A,size:K(p),datatype:D})};function n(a,t,o,c,h,f,p){var i=[];if(t===o.length-1)for(var D=0;D<c;D++)i[D]=p?a(f,h[D]):a(h[D],f);else for(var v=0;v<c;v++)i[v]=n(a,t+1,o,o[t+1],h[v],f,p);return i}}),On="matAlgo01xDSid",Tn=["typed"],ct=q(On,Tn,r=>{var{typed:e}=r;return function(a,t,o,c){var h=a._data,f=a._size,p=a._datatype,i=t._values,D=t._index,v=t._ptr,A=t._size,E=t._datatype;if(f.length!==A.length)throw new R(f.length,A.length);if(f[0]!==A[0]||f[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+A+")");if(!i)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var u=f[0],s=f[1],l=typeof p=="string"&&p===E?p:void 0,w=l?e.find(o,[l,l]):o,d,y,m=[];for(d=0;d<u;d++)m[d]=[];var F=[],g=[];for(y=0;y<s;y++){for(var C=y+1,B=v[y],_=v[y+1],S=B;S<_;S++)d=D[S],F[d]=c?w(i[S],h[d][y]):w(h[d][y],i[S]),g[d]=C;for(d=0;d<u;d++)g[d]===C?m[d][y]=F[d]:m[d][y]=h[d][y]}return a.createDenseMatrix({data:m,size:[u,s],datatype:l})}}),$n="matAlgo04xSidSid",qn=["typed","equalScalar"],In=q($n,qn,r=>{var{typed:e,equalScalar:n}=r;return function(t,o,c){var h=t._values,f=t._index,p=t._ptr,i=t._size,D=t._datatype,v=o._values,A=o._index,E=o._ptr,u=o._size,s=o._datatype;if(i.length!==u.length)throw new R(i.length,u.length);if(i[0]!==u[0]||i[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+u+")");var l=i[0],w=i[1],d,y=n,m=0,F=c;typeof D=="string"&&D===s&&(d=D,y=e.find(n,[d,d]),m=e.convert(0,d),F=e.find(c,[d,d]));var g=h&&v?[]:void 0,C=[],B=[],_=h&&v?[]:void 0,S=h&&v?[]:void 0,N=[],$=[],M,x,b,T,z;for(x=0;x<w;x++){B[x]=C.length;var O=x+1;for(T=p[x],z=p[x+1],b=T;b<z;b++)M=f[b],C.push(M),N[M]=O,_&&(_[M]=h[b]);for(T=E[x],z=E[x+1],b=T;b<z;b++)if(M=A[b],N[M]===O){if(_){var I=F(_[M],v[b]);y(I,m)?N[M]=null:_[M]=I}}else C.push(M),$[M]=O,S&&(S[M]=v[b]);if(_&&S)for(b=B[x];b<C.length;)M=C[b],N[M]===O?(g[b]=_[M],b++):$[M]===O?(g[b]=S[M],b++):C.splice(b,1)}return B[w]=C.length,t.createSparseMatrix({values:g,index:C,ptr:B,size:[l,w],datatype:d})}}),Un="matAlgo10xSids",Pn=["typed","DenseMatrix"],vt=q(Un,Pn,r=>{var{typed:e,DenseMatrix:n}=r;return function(t,o,c,h){var f=t._values,p=t._index,i=t._ptr,D=t._size,v=t._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var A=D[0],E=D[1],u,s=c;typeof v=="string"&&(u=v,o=e.convert(o,u),s=e.find(c,[u,u]));for(var l=[],w=[],d=[],y=0;y<E;y++){for(var m=y+1,F=i[y],g=i[y+1],C=F;C<g;C++){var B=p[C];w[B]=f[C],d[B]=m}for(var _=0;_<A;_++)y===0&&(l[_]=[]),d[_]===m?l[_][y]=h?s(o,w[_]):s(w[_],o):l[_][y]=o}return new n({data:l,size:[A,E],datatype:u})}}),Rn="matAlgo13xDD",Ln=["typed"],Jn=q(Rn,Ln,r=>{var{typed:e}=r;return function(t,o,c){var h=t._data,f=t._size,p=t._datatype,i=o._data,D=o._size,v=o._datatype,A=[];if(f.length!==D.length)throw new R(f.length,D.length);for(var E=0;E<f.length;E++){if(f[E]!==D[E])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+D+")");A[E]=f[E]}var u,s=c;typeof p=="string"&&p===v&&(u=p,s=e.find(c,[u,u]));var l=A.length>0?n(s,0,A,A[0],h,i):[];return t.createDenseMatrix({data:l,size:A,datatype:u})};function n(a,t,o,c,h,f){var p=[];if(t===o.length-1)for(var i=0;i<c;i++)p[i]=a(h[i],f[i]);else for(var D=0;D<c;D++)p[D]=n(a,t+1,o,o[t+1],h[D],f[D]);return p}}),Vn="broadcast",Zn=["concat"],Wn=q(Vn,Zn,r=>{var{concat:e}=r;return function(o,c){var h=Math.max(o._size.length,c._size.length);if(o._size.length===c._size.length&&o._size.every((s,l)=>s===c._size[l]))return[o,c];for(var f=n(o._size,h,0),p=n(c._size,h,0),i=[],D=0;D<h;D++)i[D]=Math.max(f[D],p[D]);for(var v=0;v<h;v++)t(f,i,v),t(p,i,v);var A=o.clone(),E=c.clone();A._size.length<h?A.reshape(n(A._size,h,1)):E._size.length<h&&E.reshape(n(E._size,h,1));for(var u=0;u<h;u++)A._size[u]<i[u]&&(A=a(A,i[u],u)),E._size[u]<i[u]&&(E=a(E,i[u],u));return[A,E]};function n(o,c,h){return[...Array(c-o.length).fill(h),...o]}function a(o,c,h){return e(...Array(c).fill(o),h)}function t(o,c,h){if(o[h]<c[h]&o[h]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(o,") not possible to broadcast dimension ").concat(h," with size ").concat(o[h]," to size ").concat(c[h]))}}),Hn="matrixAlgorithmSuite",Gn=["typed","matrix","concat"],ue=q(Hn,Gn,r=>{var{typed:e,matrix:n,concat:a}=r,t=Jn({typed:e}),o=te({typed:e}),c=Wn({concat:a});return function(f){var p=f.elop,i=f.SD||f.DS,D;p?(D={"DenseMatrix, DenseMatrix":(u,s)=>t(...c(u,s),p),"Array, Array":(u,s)=>t(...c(n(u),n(s)),p).valueOf(),"Array, DenseMatrix":(u,s)=>t(...c(n(u),s),p),"DenseMatrix, Array":(u,s)=>t(...c(u,n(s)),p)},f.SS&&(D["SparseMatrix, SparseMatrix"]=(u,s)=>f.SS(...c(u,s),p,!1)),f.DS&&(D["DenseMatrix, SparseMatrix"]=(u,s)=>f.DS(...c(u,s),p,!1),D["Array, SparseMatrix"]=(u,s)=>f.DS(...c(n(u),s),p,!1)),i&&(D["SparseMatrix, DenseMatrix"]=(u,s)=>i(...c(s,u),p,!0),D["SparseMatrix, Array"]=(u,s)=>i(...c(n(s),u),p,!0))):(D={"DenseMatrix, DenseMatrix":e.referToSelf(u=>(s,l)=>t(...c(s,l),u)),"Array, Array":e.referToSelf(u=>(s,l)=>t(...c(n(s),n(l)),u).valueOf()),"Array, DenseMatrix":e.referToSelf(u=>(s,l)=>t(...c(n(s),l),u)),"DenseMatrix, Array":e.referToSelf(u=>(s,l)=>t(...c(s,n(l)),u))},f.SS&&(D["SparseMatrix, SparseMatrix"]=e.referToSelf(u=>(s,l)=>f.SS(...c(s,l),u,!1))),f.DS&&(D["DenseMatrix, SparseMatrix"]=e.referToSelf(u=>(s,l)=>f.DS(...c(s,l),u,!1)),D["Array, SparseMatrix"]=e.referToSelf(u=>(s,l)=>f.DS(...c(n(s),l),u,!1))),i&&(D["SparseMatrix, DenseMatrix"]=e.referToSelf(u=>(s,l)=>i(...c(l,s),u,!0)),D["SparseMatrix, Array"]=e.referToSelf(u=>(s,l)=>i(...c(n(l),s),u,!0))));var v=f.scalar||"any",A=f.Ds||f.Ss;A&&(p?(D["DenseMatrix,"+v]=(u,s)=>o(u,s,p,!1),D[v+", DenseMatrix"]=(u,s)=>o(s,u,p,!0),D["Array,"+v]=(u,s)=>o(n(u),s,p,!1).valueOf(),D[v+", Array"]=(u,s)=>o(n(s),u,p,!0).valueOf()):(D["DenseMatrix,"+v]=e.referToSelf(u=>(s,l)=>o(s,l,u,!1)),D[v+", DenseMatrix"]=e.referToSelf(u=>(s,l)=>o(l,s,u,!0)),D["Array,"+v]=e.referToSelf(u=>(s,l)=>o(n(s),l,u,!1).valueOf()),D[v+", Array"]=e.referToSelf(u=>(s,l)=>o(n(l),s,u,!0).valueOf())));var E=f.sS!==void 0?f.sS:f.Ss;return p?(f.Ss&&(D["SparseMatrix,"+v]=(u,s)=>f.Ss(u,s,p,!1)),E&&(D[v+", SparseMatrix"]=(u,s)=>E(s,u,p,!0))):(f.Ss&&(D["SparseMatrix,"+v]=e.referToSelf(u=>(s,l)=>f.Ss(s,l,u,!1))),E&&(D[v+", SparseMatrix"]=e.referToSelf(u=>(s,l)=>E(l,s,u,!0)))),p&&p.signatures&&Le(D,p.signatures),D}}),Xn="matAlgo03xDSf",Kn=["typed"],lt=q(Xn,Kn,r=>{var{typed:e}=r;return function(a,t,o,c){var h=a._data,f=a._size,p=a._datatype,i=t._values,D=t._index,v=t._ptr,A=t._size,E=t._datatype;if(f.length!==A.length)throw new R(f.length,A.length);if(f[0]!==A[0]||f[1]!==A[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+A+")");if(!i)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var u=f[0],s=f[1],l,w=0,d=o;typeof p=="string"&&p===E&&(l=p,w=e.convert(0,l),d=e.find(o,[l,l]));for(var y=[],m=0;m<u;m++)y[m]=[];for(var F=[],g=[],C=0;C<s;C++){for(var B=C+1,_=v[C],S=v[C+1],N=_;N<S;N++){var $=D[N];F[$]=c?d(i[N],h[$][C]):d(h[$][C],i[N]),g[$]=B}for(var M=0;M<u;M++)g[M]===B?y[M][C]=F[M]:y[M][C]=c?d(w,h[M][C]):d(h[M][C],w)}return a.createDenseMatrix({data:y,size:[u,s],datatype:l})}}),Yn="matAlgo05xSfSf",Qn=["typed","equalScalar"],pt=q(Yn,Qn,r=>{var{typed:e,equalScalar:n}=r;return function(t,o,c){var h=t._values,f=t._index,p=t._ptr,i=t._size,D=t._datatype,v=o._values,A=o._index,E=o._ptr,u=o._size,s=o._datatype;if(i.length!==u.length)throw new R(i.length,u.length);if(i[0]!==u[0]||i[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+u+")");var l=i[0],w=i[1],d,y=n,m=0,F=c;typeof D=="string"&&D===s&&(d=D,y=e.find(n,[d,d]),m=e.convert(0,d),F=e.find(c,[d,d]));var g=h&&v?[]:void 0,C=[],B=[],_=g?[]:void 0,S=g?[]:void 0,N=[],$=[],M,x,b,T;for(x=0;x<w;x++){B[x]=C.length;var z=x+1;for(b=p[x],T=p[x+1];b<T;b++)M=f[b],C.push(M),N[M]=z,_&&(_[M]=h[b]);for(b=E[x],T=E[x+1];b<T;b++)M=A[b],N[M]!==z&&C.push(M),$[M]=z,S&&(S[M]=v[b]);if(g)for(b=B[x];b<C.length;){M=C[b];var O=N[M],I=$[M];if(O===z||I===z){var J=O===z?_[M]:m,L=I===z?S[M]:m,P=F(J,L);y(P,m)?C.splice(b,1):(g.push(P),b++)}}}return B[w]=C.length,t.createSparseMatrix({values:g,index:C,ptr:B,size:[l,w],datatype:d})}}),jn="multiplyScalar",kn=["typed"],ra=q(jn,kn,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":tt,"Complex, Complex":function(a,t){return a.mul(t)},"BigNumber, BigNumber":function(a,t){return a.times(t)},"Fraction, Fraction":function(a,t){return a.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(n,a)=>a.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,a)=>n.multiply(a)})}),Ce="multiply",ea=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],ta=q(Ce,ea,r=>{var{typed:e,matrix:n,addScalar:a,multiplyScalar:t,equalScalar:o,dot:c}=r,h=Dt({typed:e,equalScalar:o}),f=te({typed:e});function p(m,F){switch(m.length){case 1:switch(F.length){case 1:if(m[0]!==F[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(m[0]!==F[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+m[0]+") must match Matrix rows ("+F[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+F.length+" dimensions)")}break;case 2:switch(F.length){case 1:if(m[1]!==F[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+m[1]+") must match Vector length ("+F[0]+")");break;case 2:if(m[1]!==F[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+m[1]+") must match Matrix B rows ("+F[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+F.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+m.length+" dimensions)")}}function i(m,F,g){if(g===0)throw new Error("Cannot multiply two empty vectors");return c(m,F)}function D(m,F){if(F.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return v(m,F)}function v(m,F){var g=m._data,C=m._size,B=m._datatype,_=F._data,S=F._size,N=F._datatype,$=C[0],M=S[1],x,b=a,T=t;B&&N&&B===N&&typeof B=="string"&&(x=B,b=e.find(a,[x,x]),T=e.find(t,[x,x]));for(var z=[],O=0;O<M;O++){for(var I=T(g[0],_[0][O]),J=1;J<$;J++)I=b(I,T(g[J],_[J][O]));z[O]=I}return m.createDenseMatrix({data:z,size:[M],datatype:x})}var A=e("_multiplyMatrixVector",{"DenseMatrix, any":u,"SparseMatrix, any":w}),E=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":s,"DenseMatrix, SparseMatrix":l,"SparseMatrix, DenseMatrix":d,"SparseMatrix, SparseMatrix":y});function u(m,F){var g=m._data,C=m._size,B=m._datatype,_=F._data,S=F._datatype,N=C[0],$=C[1],M,x=a,b=t;B&&S&&B===S&&typeof B=="string"&&(M=B,x=e.find(a,[M,M]),b=e.find(t,[M,M]));for(var T=[],z=0;z<N;z++){for(var O=g[z],I=b(O[0],_[0]),J=1;J<$;J++)I=x(I,b(O[J],_[J]));T[z]=I}return m.createDenseMatrix({data:T,size:[N],datatype:M})}function s(m,F){var g=m._data,C=m._size,B=m._datatype,_=F._data,S=F._size,N=F._datatype,$=C[0],M=C[1],x=S[1],b,T=a,z=t;B&&N&&B===N&&typeof B=="string"&&(b=B,T=e.find(a,[b,b]),z=e.find(t,[b,b]));for(var O=[],I=0;I<$;I++){var J=g[I];O[I]=[];for(var L=0;L<x;L++){for(var P=z(J[0],_[0][L]),er=1;er<M;er++)P=T(P,z(J[er],_[er][L]));O[I][L]=P}}return m.createDenseMatrix({data:O,size:[$,x],datatype:b})}function l(m,F){var g=m._data,C=m._size,B=m._datatype,_=F._values,S=F._index,N=F._ptr,$=F._size,M=F._datatype;if(!_)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var x=C[0],b=$[1],T,z=a,O=t,I=o,J=0;B&&M&&B===M&&typeof B=="string"&&(T=B,z=e.find(a,[T,T]),O=e.find(t,[T,T]),I=e.find(o,[T,T]),J=e.convert(0,T));for(var L=[],P=[],er=[],rr=F.createSparseMatrix({values:L,index:P,ptr:er,size:[x,b],datatype:T}),tr=0;tr<b;tr++){er[tr]=P.length;var X=N[tr],sr=N[tr+1];if(sr>X)for(var Q=0,Z=0;Z<x;Z++){for(var fr=Z+1,ar=void 0,V=X;V<sr;V++){var ir=S[V];Q!==fr?(ar=O(g[Z][ir],_[V]),Q=fr):ar=z(ar,O(g[Z][ir],_[V]))}Q===fr&&!I(ar,J)&&(P.push(Z),L.push(ar))}}return er[b]=P.length,rr}function w(m,F){var g=m._values,C=m._index,B=m._ptr,_=m._datatype;if(!g)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=F._data,N=F._datatype,$=m._size[0],M=F._size[0],x=[],b=[],T=[],z,O=a,I=t,J=o,L=0;_&&N&&_===N&&typeof _=="string"&&(z=_,O=e.find(a,[z,z]),I=e.find(t,[z,z]),J=e.find(o,[z,z]),L=e.convert(0,z));var P=[],er=[];T[0]=0;for(var rr=0;rr<M;rr++){var tr=S[rr];if(!J(tr,L))for(var X=B[rr],sr=B[rr+1],Q=X;Q<sr;Q++){var Z=C[Q];er[Z]?P[Z]=O(P[Z],I(tr,g[Q])):(er[Z]=!0,b.push(Z),P[Z]=I(tr,g[Q]))}}for(var fr=b.length,ar=0;ar<fr;ar++){var V=b[ar];x[ar]=P[V]}return T[1]=b.length,m.createSparseMatrix({values:x,index:b,ptr:T,size:[$,1],datatype:z})}function d(m,F){var g=m._values,C=m._index,B=m._ptr,_=m._datatype;if(!g)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var S=F._data,N=F._datatype,$=m._size[0],M=F._size[0],x=F._size[1],b,T=a,z=t,O=o,I=0;_&&N&&_===N&&typeof _=="string"&&(b=_,T=e.find(a,[b,b]),z=e.find(t,[b,b]),O=e.find(o,[b,b]),I=e.convert(0,b));for(var J=[],L=[],P=[],er=m.createSparseMatrix({values:J,index:L,ptr:P,size:[$,x],datatype:b}),rr=[],tr=[],X=0;X<x;X++){P[X]=L.length;for(var sr=X+1,Q=0;Q<M;Q++){var Z=S[Q][X];if(!O(Z,I))for(var fr=B[Q],ar=B[Q+1],V=fr;V<ar;V++){var ir=C[V];tr[ir]!==sr?(tr[ir]=sr,L.push(ir),rr[ir]=z(Z,g[V])):rr[ir]=T(rr[ir],z(Z,g[V]))}}for(var pr=P[X],Ar=L.length,mr=pr;mr<Ar;mr++){var Zr=L[mr];J[mr]=rr[Zr]}}return P[x]=L.length,er}function y(m,F){var g=m._values,C=m._index,B=m._ptr,_=m._datatype,S=F._values,N=F._index,$=F._ptr,M=F._datatype,x=m._size[0],b=F._size[1],T=g&&S,z,O=a,I=t;_&&M&&_===M&&typeof _=="string"&&(z=_,O=e.find(a,[z,z]),I=e.find(t,[z,z]));for(var J=T?[]:void 0,L=[],P=[],er=m.createSparseMatrix({values:J,index:L,ptr:P,size:[x,b],datatype:z}),rr=T?[]:void 0,tr=[],X,sr,Q,Z,fr,ar,V,ir,pr=0;pr<b;pr++){P[pr]=L.length;var Ar=pr+1;for(fr=$[pr],ar=$[pr+1],Z=fr;Z<ar;Z++)if(ir=N[Z],T)for(sr=B[ir],Q=B[ir+1],X=sr;X<Q;X++)V=C[X],tr[V]!==Ar?(tr[V]=Ar,L.push(V),rr[V]=I(S[Z],g[X])):rr[V]=O(rr[V],I(S[Z],g[X]));else for(sr=B[ir],Q=B[ir+1],X=sr;X<Q;X++)V=C[X],tr[V]!==Ar&&(tr[V]=Ar,L.push(V));if(T)for(var mr=P[pr],Zr=L.length,Nr=mr;Nr<Zr;Nr++){var gt=L[Nr];J[Nr]=rr[gt]}}return P[b]=L.length,er}return e(Ce,t,{"Array, Array":e.referTo("Matrix, Matrix",m=>(F,g)=>{p(Dr(F),Dr(g));var C=m(n(F),n(g));return Y(C)?C.valueOf():C}),"Matrix, Matrix":function(F,g){var C=F.size(),B=g.size();return p(C,B),C.length===1?B.length===1?i(F,g,C[0]):D(F,g):B.length===1?A(F,g):E(F,g)},"Matrix, Array":e.referTo("Matrix,Matrix",m=>(F,g)=>m(F,n(g))),"Array, Matrix":e.referToSelf(m=>(F,g)=>m(n(F,g.storage()),g)),"SparseMatrix, any":function(F,g){return h(F,g,t,!1)},"DenseMatrix, any":function(F,g){return f(F,g,t,!1)},"any, SparseMatrix":function(F,g){return h(g,F,t,!0)},"any, DenseMatrix":function(F,g){return f(g,F,t,!0)},"Array, any":function(F,g){return f(n(F),g,t,!1).valueOf()},"any, Array":function(F,g){return f(n(g),F,t,!0).valueOf()},"any, any":t,"any, any, ...any":e.referToSelf(m=>(F,g,C)=>{for(var B=m(F,g),_=0;_<C.length;_++)B=m(B,C[_]);return B})})}),ua="sqrt",na=["config","typed","Complex"],aa=q(ua,na,r=>{var{config:e,typed:n,Complex:a}=r;return n("sqrt",{number:t,Complex:function(c){return c.sqrt()},BigNumber:function(c){return!c.isNegative()||e.predictable?c.sqrt():t(c.toNumber())},Unit:function(c){return c.pow(.5)}});function t(o){return isNaN(o)?NaN:o>=0||e.predictable?Math.sqrt(o):new a(o,0).sqrt()}}),ge="subtract",ia=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix","concat"],oa=q(ge,ia,r=>{var{typed:e,matrix:n,equalScalar:a,addScalar:t,unaryMinus:o,DenseMatrix:c,concat:h}=r,f=ct({typed:e}),p=lt({typed:e}),i=pt({typed:e,equalScalar:a}),D=vt({typed:e,DenseMatrix:c}),v=ft({typed:e,DenseMatrix:c}),A=ue({typed:e,matrix:n,concat:h});return e(ge,{"number, number":(E,u)=>E-u,"Complex, Complex":(E,u)=>E.sub(u),"BigNumber, BigNumber":(E,u)=>E.minus(u),"Fraction, Fraction":(E,u)=>E.sub(u),"Unit, Unit":e.referToSelf(E=>(u,s)=>{if(u.value===null)throw new Error("Parameter x contains a unit with undefined value");if(s.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!u.equalBase(s))throw new Error("Units do not match");var l=u.clone();return l.value=e.find(E,[l.valueType(),s.valueType()])(l.value,s.value),l.fixPrefix=!1,l})},A({SS:i,DS:f,SD:p,Ss:v,sS:D}))}),ye="conj",sa=["typed"],Da=q(ye,sa,r=>{var{typed:e}=r;return e(ye,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":e.referToSelf(n=>a=>vr(a,n))})}),we="concat",fa=["typed","matrix","isInteger"],ca=q(we,fa,r=>{var{typed:e,matrix:n,isInteger:a}=r;return e(we,{"...Array | Matrix | number | BigNumber":function(o){var c,h=o.length,f=-1,p,i=!1,D=[];for(c=0;c<h;c++){var v=o[c];if(Y(v)&&(i=!0),G(v)||nr(v)){if(c!==h-1)throw new Error("Dimension must be specified as last argument");if(p=f,f=v.valueOf(),!a(f))throw new TypeError("Integer number expected for dimension");if(f<0||c>0&&f>p)throw new dr(f,p+1)}else{var A=K(v).valueOf(),E=Dr(A);if(D[c]=A,p=f,f=E.length-1,c>0&&f!==p)throw new R(p+1,f+1)}}if(D.length===0)throw new SyntaxError("At least one matrix expected");for(var u=D.shift();D.length;)u=ht(u,D.shift(),f,0);return i?n(u):u},"...string":function(o){return o.join("")}})});function ht(r,e,n,a){if(a<n){if(r.length!==e.length)throw new R(r.length,e.length);for(var t=[],o=0;o<r.length;o++)t[o]=ht(r[o],e[o],n,a+1);return t}else return r.concat(e)}function va(r,e,n,a,t){if(Cr.isTypedFunction(r)){var o=[e,n,a],c=Cr.resolve(r,o);if(c)return D(c.implementation,o);var h=[e,n],f=Cr.resolve(r,h);if(f)return D(f.implementation,h);var p=[e],i=Cr.resolve(r,p);return i?D(i.implementation,p):D(r,o)}else return r(e,n,a);function D(v,A){try{return v.apply(v,A)}catch(s){var E;if(s instanceof TypeError&&((E=s.data)===null||E===void 0?void 0:E.category)==="wrongType"){var u=[];throw u.push("value: ".concat(or(e))),A.length>=2&&u.push("index: ".concat(or(n))),A.length>=3&&u.push("array: ".concat(or(a))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(r.name,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(n)))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(r.name,": ").concat(s.message))}}}var Be="identity",la=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],pa=q(Be,la,r=>{var{typed:e,config:n,matrix:a,BigNumber:t,DenseMatrix:o,SparseMatrix:c}=r;return e(Be,{"":function(){return n.matrix==="Matrix"?a([]):[]},string:function(i){return a(i)},"number | BigNumber":function(i){return f(i,i,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(i,D){return f(i,i,D)},"number | BigNumber, number | BigNumber":function(i,D){return f(i,D,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(i,D,v){return f(i,D,v)},Array:function(i){return h(i)},"Array, string":function(i,D){return h(i,D)},Matrix:function(i){return h(i.valueOf(),i.storage())},"Matrix, string":function(i,D){return h(i.valueOf(),D)}});function h(p,i){switch(p.length){case 0:return i?a(i):[];case 1:return f(p[0],p[0],i);case 2:return f(p[0],p[1],i);default:throw new Error("Vector containing two values expected")}}function f(p,i,D){var v=nr(p)||nr(i)?t:null;if(nr(p)&&(p=p.toNumber()),nr(i)&&(i=i.toNumber()),!k(p)||p<1)throw new Error("Parameters in function identity must be positive integers");if(!k(i)||i<1)throw new Error("Parameters in function identity must be positive integers");var A=v?new t(1):1,E=v?new v(0):0,u=[p,i];if(D){if(D==="sparse")return c.diagonal(u,A,0,E);if(D==="dense")return o.diagonal(u,A,0,E);throw new TypeError('Unknown matrix type "'.concat(D,'"'))}for(var s=jr([],u,E),l=p<i?p:i,w=0;w<l;w++)s[w][w]=A;return s}}),_e="map",ha=["typed"],da=q(_e,ha,r=>{var{typed:e}=r;return e(_e,{"Array, function":Fa,"Matrix, function":function(a,t){return a.map(t)}})});function Fa(r,e){var n=function a(t,o){return Array.isArray(t)?t.map(function(c,h){return a(c,o.concat(h))}):va(e,t,o,r,"map")};return n(r,[])}function Aa(){throw new Error('No "bignumber" implementation available')}function ma(){throw new Error('No "fraction" implementation available')}function Ea(){throw new Error('No "matrix" implementation available')}var Se="size",Ca=["typed","config","?matrix"],ga=q(Se,Ca,r=>{var{typed:e,config:n,matrix:a}=r;return e(Se,{Matrix:function(o){return o.create(o.size())},Array:Dr,string:function(o){return n.matrix==="Array"?[o.length]:a([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return n.matrix==="Array"?[]:a?a([]):Ea()}})});function Ur(r,e,n){var a;return String(r).indexOf("Unexpected type")!==-1?(a=arguments.length>2?" (type: "+or(n)+", value: "+JSON.stringify(n)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+a)):String(r).indexOf("complex numbers")!==-1?(a=arguments.length>2?" (type: "+or(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+a)):r}var ya="numeric",wa=["number","?bignumber","?fraction"],Ba=q(ya,wa,r=>{var{number:e,bignumber:n,fraction:a}=r,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:c=>e(c),BigNumber:n?c=>n(c):Aa,Fraction:a?c=>a(c):ma};return function(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",p=arguments.length>2?arguments[2]:void 0;if(p!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var i=or(h);if(!(i in t))throw new TypeError("Cannot convert "+h+' of type "'+i+'"; valid input types are '+Object.keys(t).join(", "));if(!(f in o))throw new TypeError("Cannot convert "+h+' to type "'+f+'"; valid output types are '+Object.keys(o).join(", "));return f===i?h:o[f](h)}}),be="divideScalar",_a=["typed","numeric"],Sa=q(be,_a,r=>{var{typed:e,numeric:n}=r;return e(be,{"number, number":function(t,o){return t/o},"Complex, Complex":function(t,o){return t.div(o)},"BigNumber, BigNumber":function(t,o){return t.div(o)},"Fraction, Fraction":function(t,o){return t.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(a,t)=>a.divide(t),"number | Fraction | Complex | BigNumber, Unit":(a,t)=>t.divideInto(a)})}),Pr="compare",ba=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],Ma=q(Pr,ba,r=>{var{typed:e,config:n,equalScalar:a,matrix:t,BigNumber:o,Fraction:c,DenseMatrix:h,concat:f}=r,p=lt({typed:e}),i=pt({typed:e,equalScalar:a}),D=ft({typed:e,DenseMatrix:h}),v=ue({typed:e,matrix:t,concat:f}),A=st({typed:e});return e(Pr,Na({typed:e,config:n}),{"boolean, boolean":function(u,s){return u===s?0:u>s?1:-1},"BigNumber, BigNumber":function(u,s){return ot(u,s,n.epsilon)?new o(0):new o(u.cmp(s))},"Fraction, Fraction":function(u,s){return new c(u.compare(s))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},A,v({SS:i,DS:p,Ss:D}))}),Na=q(Pr,["typed","config"],r=>{var{typed:e,config:n}=r;return e(Pr,{"number, number":function(t,o){return br(t,o,n.epsilon)?0:t>o?1:-1}})}),Me="compareNatural",xa=["typed","compare"],za=q(Me,xa,r=>{var{typed:e,compare:n}=r,a=n.signatures["boolean,boolean"];return e(Me,{"any, any":t});function t(f,p){var i=or(f),D=or(p),v;if((i==="number"||i==="BigNumber"||i==="Fraction")&&(D==="number"||D==="BigNumber"||D==="Fraction"))return v=n(f,p),v.toString()!=="0"?v>0?1:-1:Er(i,D);var A=["Array","DenseMatrix","SparseMatrix"];if(A.includes(i)||A.includes(D))return v=o(t,f,p),v!==0?v:Er(i,D);if(i!==D)return Er(i,D);if(i==="Complex")return Oa(f,p);if(i==="Unit")return f.equalBase(p)?t(f.value,p.value):c(t,f.formatUnits(),p.formatUnits());if(i==="boolean")return a(f,p);if(i==="string")return Er(f,p);if(i==="Object")return h(t,f,p);if(i==="null"||i==="undefined")return 0;throw new TypeError('Unsupported type of value "'+i+'"')}function o(f,p,i){return _r(p)&&_r(i)?c(f,p.toJSON().values,i.toJSON().values):_r(p)?o(f,p.toArray(),i):_r(i)?o(f,p,i.toArray()):Yr(p)?o(f,p.toJSON().data,i):Yr(i)?o(f,p,i.toJSON().data):Array.isArray(p)?Array.isArray(i)?c(f,p,i):o(f,p,[i]):o(f,[p],i)}function c(f,p,i){for(var D=0,v=Math.min(p.length,i.length);D<v;D++){var A=f(p[D],i[D]);if(A!==0)return A}return p.length>i.length?1:p.length<i.length?-1:0}function h(f,p,i){var D=Object.keys(p),v=Object.keys(i);D.sort(Er),v.sort(Er);var A=c(f,D,v);if(A!==0)return A;for(var E=0;E<D.length;E++){var u=f(p[D[E]],i[v[E]]);if(u!==0)return u}return 0}});function Oa(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var Ne="add",Ta=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],$a=q(Ne,Ta,r=>{var{typed:e,matrix:n,addScalar:a,equalScalar:t,DenseMatrix:o,SparseMatrix:c,concat:h}=r,f=ct({typed:e}),p=In({typed:e,equalScalar:t}),i=vt({typed:e,DenseMatrix:o}),D=ue({typed:e,matrix:n,concat:h});return e(Ne,{"any, any":a,"any, any, ...any":e.referToSelf(v=>(A,E,u)=>{for(var s=v(A,E),l=0;l<u.length;l++)s=v(s,u[l]);return s})},D({elop:a,DS:f,SS:p,Ss:i}))}),xe="dot",qa=["typed","addScalar","multiplyScalar","conj","size"],Ia=q(xe,qa,r=>{var{typed:e,addScalar:n,multiplyScalar:a,conj:t,size:o}=r;return e(xe,{"Array | DenseMatrix, Array | DenseMatrix":h,"SparseMatrix, SparseMatrix":f});function c(i,D){var v=p(i),A=p(D),E,u;if(v.length===1)E=v[0];else if(v.length===2&&v[1]===1)E=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(A.length===1)u=A[0];else if(A.length===2&&A[1]===1)u=A[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+A.join(", ")+")");if(E!==u)throw new RangeError("Vectors must have equal length ("+E+" != "+u+")");if(E===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return E}function h(i,D){var v=c(i,D),A=Y(i)?i._data:i,E=Y(i)?i._datatype:void 0,u=Y(D)?D._data:D,s=Y(D)?D._datatype:void 0,l=p(i).length===2,w=p(D).length===2,d=n,y=a;if(E&&s&&E===s&&typeof E=="string"){var m=E;d=e.find(n,[m,m]),y=e.find(a,[m,m])}if(!l&&!w){for(var F=y(t(A[0]),u[0]),g=1;g<v;g++)F=d(F,y(t(A[g]),u[g]));return F}if(!l&&w){for(var C=y(t(A[0]),u[0][0]),B=1;B<v;B++)C=d(C,y(t(A[B]),u[B][0]));return C}if(l&&!w){for(var _=y(t(A[0][0]),u[0]),S=1;S<v;S++)_=d(_,y(t(A[S][0]),u[S]));return _}if(l&&w){for(var N=y(t(A[0][0]),u[0][0]),$=1;$<v;$++)N=d(N,y(t(A[$][0]),u[$][0]));return N}}function f(i,D){c(i,D);for(var v=i._index,A=i._values,E=D._index,u=D._values,s=0,l=n,w=a,d=0,y=0;d<v.length&&y<E.length;){var m=v[d],F=E[y];if(m<F){d++;continue}if(m>F){y++;continue}m===F&&(s=l(s,w(A[d],u[y])),d++,y++)}return s}function p(i){return Y(i)?i.size():o(i)}}),ze="det",Ua=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],Pa=q(ze,Ua,r=>{var{typed:e,matrix:n,subtract:a,multiply:t,divideScalar:o,isZero:c,unaryMinus:h}=r;return e(ze,{any:function(i){return K(i)},"Array | Matrix":function(i){var D;switch(Y(i)?D=i.size():Array.isArray(i)?(i=n(i),D=i.size()):D=[],D.length){case 0:return K(i);case 1:if(D[0]===1)return K(i.valueOf()[0]);if(D[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+j(D)+")");case 2:{var v=D[0],A=D[1];if(v===A)return f(i.clone().valueOf(),v);if(A===0)return 1;throw new RangeError("Matrix must be square (size: "+j(D)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+j(D)+")")}}});function f(p,i,D){if(i===1)return K(p[0][0]);if(i===2)return a(t(p[0][0],p[1][1]),t(p[1][0],p[0][1]));for(var v=!1,A=new Array(i).fill(0).map((g,C)=>C),E=0;E<i;E++){var u=A[E];if(c(p[u][E])){var s=void 0;for(s=E+1;s<i;s++)if(!c(p[A[s]][E])){u=A[s],A[s]=A[E],A[E]=u,v=!v;break}if(s===i)return p[u][E]}for(var l=p[u][E],w=E===0?1:p[A[E-1]][E-1],d=E+1;d<i;d++)for(var y=A[d],m=E+1;m<i;m++)p[y][m]=o(a(t(p[y][m],l),t(p[y][E],p[u][m])),w)}var F=p[A[i-1]][i-1];return v?h(F):F}}),Oe="inv",Ra=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],La=q(Oe,Ra,r=>{var{typed:e,matrix:n,divideScalar:a,addScalar:t,multiply:o,unaryMinus:c,det:h,identity:f,abs:p}=r;return e(Oe,{"Array | Matrix":function(v){var A=Y(v)?v.size():Dr(v);switch(A.length){case 1:if(A[0]===1)return Y(v)?n([a(1,v.valueOf()[0])]):[a(1,v[0])];throw new RangeError("Matrix must be square (size: "+j(A)+")");case 2:{var E=A[0],u=A[1];if(E===u)return Y(v)?n(i(v.valueOf(),E,u),v.storage()):i(v,E,u);throw new RangeError("Matrix must be square (size: "+j(A)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+j(A)+")")}},any:function(v){return a(1,v)}});function i(D,v,A){var E,u,s,l,w;if(v===1){if(l=D[0][0],l===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(1,l)]]}else if(v===2){var d=h(D);if(d===0)throw Error("Cannot calculate inverse, determinant is zero");return[[a(D[1][1],d),a(c(D[0][1]),d)],[a(c(D[1][0]),d),a(D[0][0],d)]]}else{var y=D.concat();for(E=0;E<v;E++)y[E]=y[E].concat();for(var m=f(v).valueOf(),F=0;F<A;F++){var g=p(y[F][F]),C=F;for(E=F+1;E<v;)p(y[E][F])>g&&(g=p(y[E][F]),C=E),E++;if(g===0)throw Error("Cannot calculate inverse, determinant is zero");E=C,E!==F&&(w=y[F],y[F]=y[E],y[E]=w,w=m[F],m[F]=m[E],m[E]=w);var B=y[F],_=m[F];for(E=0;E<v;E++){var S=y[E],N=m[E];if(E!==F){if(S[F]!==0){for(s=a(c(S[F]),B[F]),u=F;u<A;u++)S[u]=t(S[u],o(s,B[u]));for(u=0;u<A;u++)N[u]=t(N[u],o(s,_[u]))}}else{for(s=B[F],u=F;u<A;u++)S[u]=a(S[u],s);for(u=0;u<A;u++)N[u]=a(N[u],s)}}}return m}}}),Ja="divide",Va=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Za=q(Ja,Va,r=>{var{typed:e,matrix:n,multiply:a,equalScalar:t,divideScalar:o,inv:c}=r,h=Dt({typed:e,equalScalar:t}),f=te({typed:e});return e("divide",Le({"Array | Matrix, Array | Matrix":function(i,D){return a(i,c(D))},"DenseMatrix, any":function(i,D){return f(i,D,o,!1)},"SparseMatrix, any":function(i,D){return h(i,D,o,!1)},"Array, any":function(i,D){return f(n(i),D,o,!1).valueOf()},"any, Array | Matrix":function(i,D){return a(i,c(D))}},o.signatures))}),Te="mean",Wa=["typed","add","divide"],Ha=q(Te,Wa,r=>{var{typed:e,add:n,divide:a}=r;return e(Te,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":t,"...":function(h){if(Zu(h))throw new TypeError("Scalar values expected in function mean");return o(h)}});function t(c,h){try{var f=Wu(c,h,n),p=Array.isArray(c)?Dr(c):c.size();return a(f,p[h])}catch(i){throw Ur(i,"mean")}}function o(c){var h,f=0;if(Tr(c,function(p){try{h=h===void 0?p:n(h,p),f++}catch(i){throw Ur(i,"mean",p)}}),f===0)throw new Error("Cannot calculate the mean of an empty array");return a(h,f)}}),Kr="unbiased",$e="variance",Ga=["typed","add","subtract","multiply","divide","apply","isNaN"],Xa=q($e,Ga,r=>{var{typed:e,add:n,subtract:a,multiply:t,divide:o,apply:c,isNaN:h}=r;return e($e,{"Array | Matrix":function(D){return f(D,Kr)},"Array | Matrix, string":f,"Array | Matrix, number | BigNumber":function(D,v){return p(D,v,Kr)},"Array | Matrix, number | BigNumber, string":p,"...":function(D){return f(D,Kr)}});function f(i,D){var v,A=0;if(i.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Tr(i,function(s){try{v=v===void 0?s:n(v,s),A++}catch(l){throw Ur(l,"variance",s)}}),A===0)throw new Error("Cannot calculate variance of an empty array");var E=o(v,A);if(v=void 0,Tr(i,function(s){var l=a(s,E);v=v===void 0?t(l,l):n(v,t(l,l))}),h(v))return v;switch(D){case"uncorrected":return o(v,A);case"biased":return o(v,A+1);case"unbiased":{var u=nr(v)?v.mul(0):0;return A===1?u:o(v,A-1)}default:throw new Error('Unknown normalization "'+D+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function p(i,D,v){try{if(i.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return c(i,D,A=>f(A,v))}catch(A){throw Ur(A,"variance")}}}),qe="std",Ka=["typed","map","sqrt","variance"],Ya=q(qe,Ka,r=>{var{typed:e,map:n,sqrt:a,variance:t}=r;return e(qe,{"Array | Matrix":o,"Array | Matrix, string":o,"Array | Matrix, number | BigNumber":o,"Array | Matrix, number | BigNumber, string":o,"...":function(h){return o(h)}});function o(c,h){if(c.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var f=t.apply(null,arguments);return yr(f)?n(f,a):a(f)}catch(p){throw p instanceof TypeError&&p.message.indexOf(" variance")!==-1?new TypeError(p.message.replace(" variance"," std")):p}}}),Jr=Nu({config:Fr}),dt=Ou({}),ne=qu({}),ae=Pu({}),wr=Ju({Matrix:ae}),U=_u({BigNumber:Jr,Complex:dt,DenseMatrix:wr,Fraction:ne}),Qa=Cn({typed:U}),Mr=_n({typed:U}),ja=vn({BigNumber:Jr,typed:U}),ka=Da({typed:U}),Br=rn({config:Fr,typed:U}),Ft=Gu({typed:U}),ri=Ku({typed:U}),ei=da({typed:U}),At=ra({typed:U}),ti=Dn({typed:U}),ie=un({Matrix:ae,equalScalar:Br,typed:U}),ui=yn({isInteger:Ft,typed:U}),ni=Qu({typed:U}),ai=aa({Complex:dt,config:Fr,typed:U}),oe=mn({typed:U}),ii=hn({Fraction:ne,typed:U}),lr=Fn({DenseMatrix:wr,Matrix:ae,SparseMatrix:ie,typed:U}),oi=Ba({bignumber:ja,fraction:ii,number:ti}),si=ga({matrix:lr,config:Fr,typed:U}),se=ca({isInteger:Ft,matrix:lr,typed:U}),De=Sa({numeric:oi,typed:U}),Di=pa({BigNumber:Jr,DenseMatrix:wr,SparseMatrix:ie,config:Fr,matrix:lr,typed:U}),mt=$a({DenseMatrix:wr,SparseMatrix:ie,addScalar:Mr,concat:se,equalScalar:Br,matrix:lr,typed:U}),fi=Ma({BigNumber:Jr,DenseMatrix:wr,Fraction:ne,concat:se,config:Fr,equalScalar:Br,matrix:lr,typed:U}),ci=Ia({addScalar:Mr,conj:ka,multiplyScalar:At,size:si,typed:U}),Vr=ta({addScalar:Mr,dot:ci,equalScalar:Br,matrix:lr,multiplyScalar:At,typed:U}),Et=oa({DenseMatrix:wr,addScalar:Mr,concat:se,equalScalar:Br,matrix:lr,typed:U,unaryMinus:oe}),Ci=za({compare:fi,typed:U}),vi=Pa({divideScalar:De,isZero:ri,matrix:lr,multiply:Vr,subtract:Et,typed:U,unaryMinus:oe}),li=La({abs:Qa,addScalar:Mr,det:vi,divideScalar:De,identity:Di,matrix:lr,multiply:Vr,typed:U,unaryMinus:oe}),Ct=Za({divideScalar:De,equalScalar:Br,inv:li,matrix:lr,multiply:Vr,typed:U}),gi=Ha({add:mt,divide:Ct,typed:U}),pi=Xa({add:mt,apply:ui,divide:Ct,isNaN:ni,multiply:Vr,subtract:Et,typed:U}),yi=Ya({map:ei,sqrt:ai,typed:U,variance:pi});export{Qa as a,Ci as c,gi as m,yi as s};
